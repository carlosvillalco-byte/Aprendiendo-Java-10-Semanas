import servicio.GestorTareas;
import java.util.Scanner;

public class Main {

    static GestorTareas gestor = new GestorTareas();
    static Scanner sc = new Scanner(System.in);

    public static void main(String[] args) {

        int opcion;

        do {
            mostrarMenu();
            opcion = sc.nextInt();
            sc.nextLine(); // limpiar buffer

            switch (opcion) {
                case 1 -> agregarTarea();
                case 2 -> gestor.listar();
                case 3 -> completarTarea();
                case 4 -> eliminarTarea();
                case 5 -> mostrarEstadisticas();
                case 6 -> System.out.println("Saliendo del sistema...");
                default -> System.out.println("Opción inválida");
            }

        } while (opcion != 6);
    }

    static void mostrarMenu() {
        System.out.println("\n=== GESTOR DE TAREAS ===");
        System.out.println("1. Agregar tarea");
        System.out.println("2. Listar tareas");
        System.out.println("3. Completar tarea");
        System.out.println("4. Eliminar tarea");
        System.out.println("5. Estadísticas");
        System.out.println("6. Salir");
        System.out.print("Opción: ");
    }

    static void agregarTarea() {
        System.out.print("Titulo: ");
        String titulo = sc.nextLine();
        System.out.print("Descripcion: ");
        String descripcion = sc.nextLine();
        gestor.agregar(titulo, descripcion);
    }

    static void completarTarea() {
        System.out.print("ID de la tarea: ");
        int id = sc.nextInt();
        gestor.completar(id);
    }

    static void eliminarTarea() {
        System.out.print("ID a eliminar: ");
        int id = sc.nextInt();
        gestor.eliminar(id);
    }

    static void mostrarEstadisticas() {
        System.out.println("Total tareas: " + gestor.totalTareas());
        System.out.println("Pendientes: " + gestor.totalPendientes());
        System.out.println("Completadas: " + gestor.totalCompletadas());
    }
}